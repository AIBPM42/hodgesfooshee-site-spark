name: spark
build:
  node: node20
  install: npm ci
  build: npm run build
start: npx vite preview --host 0.0.0.0 --port 8080
environment:
  - PORT=8080
labels:
  traefik.enable: "true"
  traefik.http.middlewares.gzip.compress: "true"
  traefik.http.middlewares.redirect-to-https.redirectscheme.scheme: "https"
  traefik.http.routers.hodges-http.entrypoints: "http"
  traefik.http.routers.hodges-http.rule: "Host(`hodges-demo.aicustomautomations.com`)"
  traefik.http.routers.hodges-http.middlewares: "redirect-to-https"
  traefik.http.routers.hodges.entrypoints: "websecure"
  traefik.http.routers.hodges.rule: "Host(`hodges-demo.aicustomautomations.com`)"
  traefik.http.routers.hodges.tls: "true"
  traefik.http.routers.hodges.service: "hodges"
  traefik.http.services.hodges.loadbalancer.server.port: "8080"
